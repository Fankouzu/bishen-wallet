(this["webpackJsonpbishen-wallet"]=this["webpackJsonpbishen-wallet"]||[]).push([[0],{1054:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),i=a.n(o),c=a(38),l=a(39),s=a(43),m=a(40),u=a(44),d=a(46),p=a(68),g=a(17),h=a(1124),E=a(1103),f=a(1094),v=a(1122),b=a(1100),x=a(1099),w=a(1120),y=a(1092),k=a(1055),j=a(1116),C=a(1093),O=a(66),S=a.n(O),N=a(98),M=a(323);function W(){return r.a.createElement(N.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(y.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var A=a(322),I=a.n(A),D=a(94),B=a.n(D),T=a(48),R=a.n(T);function z(e,t){var a=R.a.enc.Utf8.parse(e),n=R.a.enc.Utf8.parse(t);return R.a.AES.encrypt(a,n,{mode:R.a.mode.ECB,padding:R.a.pad.Pkcs7}).toString()}function H(e,t){var a=R.a.enc.Utf8.parse(t),n=R.a.AES.decrypt(e,a,{mode:R.a.mode.ECB,padding:R.a.pad.Pkcs7});return R.a.enc.Utf8.stringify(n).toString()}function F(e){return R.a.SHA1(e)}var _=a(61),P=a.n(_),U=a(120),L=a(167),V=a(412);function Y(e,t){var a=V.fromMnemonic(e);return"0x".concat(a.derive("m/44'/60'/0'/0/"+t).getAddress().toString("hex"))}function q(e){return t=e,new RegExp("^([a-z]{0,200})$").test(t.replace(/ /g,""))?L.validateMnemonic(e,L.wordlists.english):L.validateMnemonic(e.replace(/ /g,"").split("").join(" "),L.wordlists.chinese_simplified);var t}var J=a(261);new(a(268))(J({network:"mainnet"}));function Z(e){for(var t=e.split(" "),a=[],n=t.length,r=0;r<n;r++){var o=Math.floor(Math.random()*t.length);a.push(t[o]),t.splice(o,1)}return t=[].concat(a,Object(U.a)(t))}function G(e){for(var t=[],a=0;a<10;a++)t[a]={address:Y(e,a),balance:0};return t}var Q=Object(M.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url("+I.a+")",backgroundRepeat:"no-repeat",backgroundColor:"dark"===e.palette.type?e.palette.grey[900]:e.palette.grey[50],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function K(){var e=Q();console.log("Render OpenWalletView");var t=r.a.useState(!1),a=Object(g.a)(t,2),n=a[0],o=a[1],i=r.a.useState(""),c=Object(g.a)(i,2),l=c[0],s=c[1],m=r.a.useState({error:!1,errorMsg:""}),u=Object(g.a)(m,2),p=u[0],O=u[1];return r.a.createElement(C.a,{container:!0,component:"main",className:e.root},r.a.createElement(f.a,null),r.a.createElement(C.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),r.a.createElement(C.a,{item:!0,xs:12,sm:8,md:5,component:k.a,elevation:6,square:!0},r.a.createElement("div",{className:e.paper},r.a.createElement(h.a,{className:e.avatar},r.a.createElement(S.a,null)),r.a.createElement(N.a,{component:"h1",variant:"h5"},"\u6253\u5f00\u94b1\u5305"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"\u5bc6\u7801",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){s(e.target.value)},value:l,error:p.error}),r.a.createElement(x.a,{id:"component-error-text",error:p.error},p.errorMsg),r.a.createElement(b.a,{control:r.a.createElement(w.a,{value:n,checked:n,onChange:function(e){o(e.target.checked)},color:"primary"}),label:"\u8bb0\u4f4f\u5bc6\u7801"}),r.a.createElement(E.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){if(""===l)O({error:!0,errorMsg:"\u8bf7\u8f93\u5165\u5bc6\u7801"});else{var e=localStorage.getItem("encrypt");if(e)if(q(H(e,F(l)))){var t=n?7:1,a=new Date;a.setDate(Date.now()+864e5*t),B.a.save("password",F(l).toString(),{path:"/",expires:a}),window.location.href="./Wallet"}else O({error:!0,errorMsg:"\u5bc6\u7801\u6216\u94b1\u5305\u9519\u8bef\uff0c\u8bf7\u5bfc\u5165\u6216\u521b\u5efa\u94b1\u5305"});else O({error:!0,errorMsg:"\u627e\u4e0d\u5230\u672c\u5730\u94b1\u5305\uff0c\u8bf7\u5bfc\u5165\u6216\u521b\u5efa\u94b1\u5305"})}}},"\u6253\u5f00"),r.a.createElement(C.a,{container:!0},r.a.createElement(C.a,{item:!0,xs:!0},r.a.createElement(y.a,{to:"/ImportWallet",component:d.b,variant:"body2"},"\u5bfc\u5165\u94b1\u5305")),r.a.createElement(C.a,{item:!0},r.a.createElement(y.a,{to:"/Mnemonic",component:d.b,variant:"body2"},"\u521b\u5efa\u94b1\u5305"))),r.a.createElement(j.a,{mt:5},r.a.createElement(W,null))))))}var $=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log("Render OpenWallet"),r.a.createElement(K,null)}}]),t}(n.Component),X=a(1104);function ee(e){console.log("Render Password");var t=r.a.useState(""),a=Object(g.a)(t,2),o=a[0],i=a[1],c=r.a.useState(""),l=Object(g.a)(c,2),s=l[0],m=l[1],u=r.a.useState({passwordError:!1,errorMsg:""}),d=Object(g.a)(u,2),p=d[0],h=d[1];return r.a.createElement(n.Fragment,null,r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"\u5bc6\u7801",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){i(e.target.value),h({passwordError:!1,errorMsg:""})},value:o,error:o!==s&&""!==s||p.passwordError})),r.a.createElement(C.a,{item:!0,xs:12,style:{paddingBottom:"0px"}},r.a.createElement(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirm-password",label:"\u786e\u8ba4\u5bc6\u7801",type:"password",id:"confirm-password",autoComplete:"current-password",onChange:function(e){m(e.target.value),h({passwordError:!1,errorMsg:""})},value:s,error:o!==s&&""!==s||p.passwordError}),r.a.createElement(x.a,{id:"component-error-text",error:p.passwordError},p.errorMsg)),r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(v.a,{error:!0,fullWidth:!0,multiline:!0,id:"outlined-ervror",label:"\u26a0\ufe0f",value:"\u5bc6\u7801\u53ea\u4fdd\u5b58\u5728\u4f60\u7684\u6d4f\u89c8\u5668\u8bb0\u5fc6\u4e2d\uff0c\u4e00\u65e6\u4e22\u5931\u65e0\u6cd5\u627e\u56de\uff0c\u8bf7\u5907\u4efd\u6216\u6284\u5199\u4e0b\u52a9\u8bb0\u8bcd\uff0c\u4e0b\u6b21\u53ef\u4ee5\u4f7f\u7528\u52a9\u8bb0\u8bcd\u6062\u590d\u94b1\u5305",variant:"outlined",onChange:function(){return!1}})),r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(E.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){if(""===o&&""===s)h({passwordError:!0,errorMsg:"\u6ca1\u6709\u5bc6\u7801"});else if(o!==s)h({passwordError:!0,errorMsg:"\u5bc6\u7801\u4e0d\u76f8\u540c"});else{h({passwordError:!1,errorMsg:""});(function(e,t){var a=[],n=[1,2,3,4];if(e.length<8||e.length>20)return 0;/\d/.test(e)&&a.push(1),/[a-z]/.test(e)&&a.push(2),/[A-Z]/.test(e)&&a.push(3),/\W/.test(e)&&a.push(4);for(var r=0;r<t;r++)if(-1===a.indexOf(n[r]))return n[r];return t})(o,3)<3?h({passwordError:!0,errorMsg:"\u5bc6\u7801\u9700\u8981\u6700\u5c118\u4f4d\uff0c\u5e76\u4e14\u5305\u542b\u6570\u5b57\u3001\u5927\u5199\u3001\u5c0f\u5199\u5b57\u6bcd"}):(h({passwordError:!1,errorMsg:""}),e.Wallet(o))}}},e.action)))}var te=Object(M.a)((function(e){return{main:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center","& h1":{marginBottom:e.spacing(2)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},CardContent:{minHeight:170,"& div":{width:"25%",height:40,fontSize:30,padding:5,lineHeight:"30px",cursor:"pointer",float:"left",marginTop:"10px",textAlign:"center"}},CardContent_en:{minHeight:170,"& div":{width:"25%",height:40,fontSize:18,padding:5,lineHeight:"30px",cursor:"pointer",float:"left",marginTop:"10px",textAlign:"center",fontWeight:500}},CardActions:{margin:0,textAlign:"center",display:"block",fontStyle:"italic"},CardActionsError:{margin:0,textAlign:"center",display:"block",fontStyle:"italic",color:"rgb(220, 0, 78)!important"},card:{minWidth:275,minHeight:200},CardError:{borderColor:"rgb(220, 0, 78)!important",borderWidth:1,borderStyle:"dashed"},wordPaper_zh:{display:"flex",justifyContent:"space-between",flexDirection:"row",flexWrap:"wrap",padding:"0px!important","& div":{},"& div>div":{width:40,height:40,fontSize:30,padding:5,lineHeight:"30px",cursor:"pointer",margin:"0px auto",marginBottom:"20px"}},wordPaper_en:{display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"wrap",paddingTop:"0px!important",paddingBottom:"0px!important","& div":{textAlign:"center"},"& div>div":{height:40,fontSize:18,padding:5,lineHeight:"30px",cursor:"pointer",margin:"0px auto",marginBottom:"20px",display:"inline-block"}}}}));function ae(e){console.log("Render CreateWalletView");var t=te(),a=e.randMnemonic,n=e.mnemonic_lang,o=e.useMnemonic,i=r.a.useState([]),c=Object(g.a)(i,2),l=c[0],s=c[1],m=r.a.useState([]),u=Object(g.a)(m,2),p=u[0],E=u[1],v=function(e){l[e.target.attributes.value.nodeValue]="none",s(Object(U.a)(l)),p.push(e.target.innerHTML),E(p)},b=function(t){for(var a=e.randMnemonic,n=0;n<a.length;n++)a[n]===t.target.innerHTML&&(l[n]="");for(var r=[],o=0;o<p.length;o++)p[o]!==t.target.innerHTML&&r.push(p[o]);s(Object(U.a)(l)),E(r)},x=r.a.useState(!1),w=Object(g.a)(x,2),O=w[0],M=w[1];return r.a.createElement(C.a,{container:!0},r.a.createElement(f.a,null),r.a.createElement(X.a,{component:"main",maxWidth:"xs"},r.a.createElement(j.a,{className:t.main},r.a.createElement(h.a,{className:t.avatar},r.a.createElement(S.a,null)),r.a.createElement(N.a,{component:"h1",variant:"h5"},"\u521b\u5efa\u94b1\u5305"),r.a.createElement(C.a,{container:!0,spacing:4},r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(k.a,{elevation:3,className:O?t.CardError:t.card},r.a.createElement(C.a,{item:!0,xs:12,className:"zh"===n?t.CardContent:t.CardContent_en},p.map((function(e,t){return r.a.createElement(C.a,{item:!0,key:t,value:t,onClick:b},e)}))),r.a.createElement(N.a,{variant:"caption",className:O?t.CardActionsError:t.CardActions},"\u8bf7\u6309\u7167\u6b63\u786e\u7684\u987a\u5e8f\u9009\u62e9\u52a9\u8bb0\u8bcd"))),r.a.createElement(C.a,{item:!0,xs:12,className:"zh"===n?t.wordPaper_zh:t.wordPaper_en},a.map((function(e,t){return r.a.createElement(C.a,{item:!0,xs:3,key:t},r.a.createElement(k.a,{elevation:3,value:t,onClick:v,style:{display:l[t]}},e))}))),r.a.createElement(ee,{Wallet:function(t){p.join(" ")!==o?M(!0):(M(!1),e.Wallet(t))},action:"\u521b\u5efa\u94b1\u5305"})),r.a.createElement(C.a,{container:!0,justify:"flex-end",spacing:2},r.a.createElement(C.a,{item:!0,xs:12}),r.a.createElement(C.a,{item:!0,xs:!0},r.a.createElement(y.a,{to:"./ImportWallet",component:d.b,variant:"body2"},"\u5bfc\u5165\u94b1\u5305")),r.a.createElement(C.a,{item:!0},r.a.createElement(y.a,{to:"./",component:d.b,variant:"body2"},"\u6253\u5f00\u94b1\u5305")))),r.a.createElement(j.a,{mt:5},r.a.createElement(W,null))))}var ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).Wallet=function(e){var t=z(a.state.useMnemonic,F(e));localStorage.setItem("encrypt",t);var n=new Date;n.setDate(Date.now()+864e5),B.a.save("password",F(e).toString(),{path:"/",expires:n}),window.location.href="./Wallet"},a.state={randMnemonic:Z(a.props.location.state.useMnemonic),mnemonic:[],important:!1,wordDisplay:[],CardActionsError:!1,mnemonic_lang:a.props.location.state.mnemonic_lang,useMnemonic:a.props.location.state.useMnemonic},a.props.location.state||(window.location.href="./"),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return console.log("Render CreateWallet"),r.a.createElement(ae,{randMnemonic:this.state.randMnemonic,useMnemonic:this.state.useMnemonic,mnemonic_lang:this.state.mnemonic_lang,Wallet:this.Wallet,choseWord:this.choseWord,removeWord:this.removeWord})}}]),t}(n.Component),re=a(80),oe=a(24),ie=a(210),ce=a.n(ie),le=a(1117),se=a(1105),me=a(325),ue=a.n(me),de=a(211),pe=a.n(de),ge=Object(M.a)((function(e){return{main:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center","& h1":{marginBottom:e.spacing(2)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},submit:{margin:e.spacing(3,0,2)},copyButton:{width:"100%"},paper:{minWidth:275,"& div":{padding:0},"& h4":{letterSpacing:"3.4rem",lineHeight:"3rem",textAlign:"end"},"& h5":{lineHeight:"3rem",margin:"0px 15px",wordSpacing:"15px",textAlign:"justify"}}}}));function he(e){var t=e.children,a=e.value,n=e.index,o=Object(re.a)(e,["children","value","index"]);return r.a.createElement(N.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},o),a===n&&r.a.createElement(j.a,{p:3},t))}function Ee(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function fe(e){console.log("Render MnemonicView");var t=ge(),a=Object(oe.a)(),n=e.mnemonic_zh,o=e.mnemonic_en,i=r.a.useState(0),c=Object(g.a)(i,2),l=c[0],s=c[1],m=r.a.useState({useMnemonic:n,mnemonic_lang:"zh"}),u=Object(g.a)(m,2),p=u[0],b=u[1];return r.a.useEffect((function(){b({useMnemonic:n,mnemonic_lang:"zh"})}),[n]),r.a.createElement(C.a,{container:!0},r.a.createElement(f.a,null),r.a.createElement(X.a,{component:"main",maxWidth:"xs"},r.a.createElement(j.a,{className:t.main},r.a.createElement(h.a,{className:t.avatar},r.a.createElement(S.a,null)),r.a.createElement(N.a,{component:"h1",variant:"h5"},"\u52a9\u8bb0\u8bcd"),r.a.createElement(C.a,{container:!0,spacing:4},r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(k.a,{elevation:3,className:t.paper},r.a.createElement(le.a,{value:l,onChange:function(e,t){s(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement(se.a,Object.assign({label:"\u4e2d\u6587\u52a9\u8bb0\u8bcd"},Ee(0))),r.a.createElement(se.a,Object.assign({label:"\u82f1\u6587\u52a9\u8bb0\u8bcd"},Ee(1)))),r.a.createElement(ue.a,{axis:"rtl"===a.direction?"x-reverse":"x",index:l,onChangeIndex:s},r.a.createElement(he,{value:l,index:0},r.a.createElement(N.a,{variant:"h4"},n.replace(/ /g,"")),r.a.createElement(N.a,{align:"center"},r.a.createElement(ce.a,{text:n},r.a.createElement(E.a,{size:"small",className:t.copyButton,startIcon:r.a.createElement(pe.a,null)},"\u62f7\u8d1d\u52a9\u8bb0\u8bcd")))),r.a.createElement(he,{value:l,index:1},r.a.createElement(N.a,{variant:"h5"},o),r.a.createElement(N.a,{align:"center"},r.a.createElement(ce.a,{text:o},r.a.createElement(E.a,{size:"small",className:t.copyButton,startIcon:r.a.createElement(pe.a,null)},"\u62f7\u8d1d\u52a9\u8bb0\u8bcd"))))))),r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(v.a,{fullWidth:!0,multiline:!0,id:"outlined-ervror",label:"\u26a0\ufe0f",value:"\u8bf7\u6284\u5199\u6216\u4fdd\u5b58\u52a9\u8bb0\u8bcd\uff0c\u7136\u540e\u8fdb\u884c\u4e0b\u4e00\u6b65",variant:"outlined",onChange:function(){return!1}}))),r.a.createElement(E.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,component:d.b,to:{pathname:"./CreateWallet",state:p}},"\u4e0b\u4e00\u6b65"),r.a.createElement(C.a,{container:!0,justify:"flex-end"},r.a.createElement(C.a,{item:!0,xs:!0},r.a.createElement(y.a,{to:"./ImportWallet",component:d.b,variant:"body2"},"\u5bfc\u5165\u94b1\u5305")),r.a.createElement(C.a,{item:!0},r.a.createElement(y.a,{to:"./",component:d.b,variant:"body2"},"\u6253\u5f00\u94b1\u5305")))),r.a.createElement(j.a,{mt:5},r.a.createElement(W,null))))}var ve=a(167),be=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={mnemonic_zh:ve.generateMnemonic(128,null,ve.wordlists.chinese_simplified),mnemonic_en:ve.generateMnemonic(128,null,ve.wordlists.english)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log("Render Mnemonic"),r.a.createElement(fe,{mnemonic_zh:this.state.mnemonic_zh,mnemonic_en:this.state.mnemonic_en,switchLang:this.switchLang})}}]),t}(n.Component),xe=Object(M.a)((function(e){return{main:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center","& h1":{marginBottom:e.spacing(2)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},card:{minWidth:275,"& textarea":{fontSize:"44px",lineHeight:"54px",textAlign:"justify",height:"120px"}},title:{fontSize:14},error:{color:"rgb(220, 0, 78)!important","& textarea":{color:"rgb(220, 0, 78)!important"},"& label":{fontSize:20}},mnemonic:{"& textarea":{fontSize:20,lineHeight:"30px",textAlign:"center"}}}}));function we(e){console.log("Render ImportWalletView");var t=r.a.useState(""),a=Object(g.a)(t,2),n=a[0],o=a[1],i=r.a.useState({error:!1,errorMsg:""}),c=Object(g.a)(i,2),l=c[0],s=c[1],m=xe();return r.a.createElement(C.a,{container:!0},r.a.createElement(f.a,null),r.a.createElement(X.a,{component:"main",maxWidth:"xs"},r.a.createElement(j.a,{className:m.main},r.a.createElement(h.a,{className:m.avatar},r.a.createElement(S.a,null)),r.a.createElement(N.a,{component:"h1",variant:"h5"},"\u5bfc\u5165\u94b1\u5305"),r.a.createElement(C.a,{container:!0,spacing:2},r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(v.a,{variant:"outlined",multiline:!0,rows:"3",required:!0,fullWidth:!0,name:"mnemonic",label:"\u8f93\u5165\u52a9\u8bb0\u8bcd",type:"text",id:"mnemonic",className:m.mnemonic,error:l.error,onChange:function(e){o(e.target.value)},value:n}),r.a.createElement(x.a,{id:"component-error-text",error:l.error},l.errorMsg)),r.a.createElement(ee,{Wallet:function(e){if(q(n)){var t=z(n,F(e));localStorage.setItem("encrypt",t),document.cookie="password="+F(e),window.location.href="./Wallet"}else s({error:!0,errorMsg:"\u52a9\u8bb0\u8bcd\u4e0d\u6b63\u786e"})},action:"\u5bfc\u5165\u94b1\u5305"})),r.a.createElement(C.a,{container:!0,justify:"flex-end",spacing:2},r.a.createElement(C.a,{item:!0,xs:12}),r.a.createElement(C.a,{item:!0,xs:!0},r.a.createElement(y.a,{href:"./Mnemonic",variant:"body2"},"\u521b\u5efa\u94b1\u5305")),r.a.createElement(C.a,{item:!0},r.a.createElement(y.a,{href:"./",variant:"body2"},"\u6253\u5f00\u94b1\u5305")))),r.a.createElement(j.a,{mt:5},r.a.createElement(W,null))))}var ye=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log("Render ImportWallet"),r.a.createElement(we,null)}}]),t}(n.Component),ke=a(118),je=a(326),Ce=a.n(je),Oe=a(1110),Se=a(1111),Ne=a(1101),Me=a(328),We=a.n(Me),Ae=a(1121),Ie=a(1107),De=a(1097),Be=a(336),Te=a(1109),Re=a(1108),ze=a(1106),He=a(69),Fe=a.n(He),_e=a(327),Pe=a.n(_e),Ue=Object(M.a)({right:{position:"absolute",right:10,padding:0,border:"2px solid"},menu:{"& .MuiMenu-paper":{background:"#000",opacity:"0.8!important",color:"#aaa",width:260}},divider:{background:"#999"},firstItem:{paddingTop:0,minHeight:30},itemicon:{minWidth:30,margin:5}});function Le(e){console.log("Render AccountMenu");var t=Ue(),a=r.a.useState(null),o=Object(g.a)(a,2),i=o[0],c=o[1],l=function(){c(null)},s=e.accounts,m=e.currentAccount,u=function(t){c(null),e.choseAccount(t)};return r.a.createElement(n.Fragment,null,r.a.createElement(Ne.a,{color:"inherit",className:t.right,"aria-haspopup":"true","aria-controls":"simple-menu",onClick:function(e){c(e.currentTarget)}},"0x0"!==e.accounts[0].address?r.a.createElement(Fe.a,{diameter:35,seed:Object(He.jsNumberForAddress)(s[m].address)}):r.a.createElement(Pe.a,{style:{fontSize:35}})),r.a.createElement(Be.a,{id:"simple-menu",anchorEl:i,open:Boolean(i),onClose:l,className:t.menu,TransitionComponent:ze.a},r.a.createElement(Ie.a,{onClick:l,className:t.firstItem},"\u6211\u7684\u8d26\u6237"),r.a.createElement(Re.a,{className:t.divider}),s.map((function(e,a){return r.a.createElement(Ie.a,{onClick:u,key:a,index:a},r.a.createElement(C.a,{container:!0,spacing:1},r.a.createElement(C.a,{item:!0,xs:2},r.a.createElement(Te.a,{className:t.itemicon},r.a.createElement(Fe.a,{diameter:24,seed:Object(He.jsNumberForAddress)(e.address||"0x0")}))),r.a.createElement(C.a,{item:!0,xs:10},r.a.createElement(C.a,{container:!0,spacing:0},r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(N.a,{noWrap:!0},"\u8d26\u6237 ",a+1,"\xa0\xa0",r.a.createElement("small",null,r.a.createElement("em",null,"\u4f59\u989d\uff1a",e.balance)))),r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(N.a,{noWrap:!0},e.address))))))}))))}var Ve=Object(M.a)((function(e){return{toolbar:{paddingRight:24},formControl:{marginTop:e.spacing(1),marginBottom:e.spacing(1),minWidth:150,background:"#d2d9f8",borderRadius:"5px",height:40,marginLeft:"-75px",position:"absolute",top:"0px",left:"50%","& .MuiSelect-filled.MuiSelect-filled":{padding:12}},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})}}})),Ye={PaperProps:{style:{background:"#000",opacity:"0.8",color:"#aaa"}}};function qe(e){console.log("Render MyToolbar");var t=Ve(),a=e.networks,n=Object(re.a)(e,["networks"]),o=r.a.useState(0),i=Object(g.a)(o,2),c=i[0],l=i[1];return r.a.createElement(Oe.a,{position:"absolute",className:t.appBar},r.a.createElement(Se.a,{className:t.toolbar},r.a.createElement(Ne.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:e.toggleDrawer(!0),className:t.menuButton},r.a.createElement(We.a,null)),r.a.createElement(De.a,{variant:"filled",size:"small",className:t.formControl},r.a.createElement(Ae.a,{disableUnderline:!0,className:t.select,MenuProps:Ye,displayEmpty:!0,value:c,defaultValue:c,onChange:function(t){l(t.target.value),e.getBalance(t.target.value)}},a.map((function(e,a){return r.a.createElement(Ie.a,{className:t.menuitem,key:a,value:a},e.nameCN)})))),r.a.createElement(Le,Object.assign({networks:a},n))))}var Je=a(1098),Ze=a(1119),Ge=a(1056),Qe=a(1112),Ke=a(1113),$e=a(329),Xe=a.n($e),et=a(330),tt=a.n(et),at=a(331),nt=a.n(at),rt=a(332),ot=a.n(rt),it=a(158),ct=a.n(it),lt=a(156),st=r.a.createElement("div",null,r.a.createElement(Ge.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(lt.Eth,null)),r.a.createElement(Qe.a,{primary:"\u5f00\u59cb"})),r.a.createElement(Ge.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(Xe.a,null)),r.a.createElement(Qe.a,{primary:"Orders"})),r.a.createElement(Ge.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(tt.a,null)),r.a.createElement(Qe.a,{primary:"Customers"})),r.a.createElement(Ge.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(nt.a,null)),r.a.createElement(Qe.a,{primary:"Reports"})),r.a.createElement(Ge.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(ot.a,null)),r.a.createElement(Qe.a,{primary:"Integrations"}))),mt=(r.a.createElement("div",null,r.a.createElement(Ke.a,{inset:!0},"Saved reports"),r.a.createElement(Ge.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(ct.a,null)),r.a.createElement(Qe.a,{primary:"Current month"})),r.a.createElement(Ge.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(ct.a,null)),r.a.createElement(Qe.a,{primary:"Last quarter"})),r.a.createElement(Ge.a,{button:!0},r.a.createElement(Te.a,null,r.a.createElement(ct.a,null)),r.a.createElement(Qe.a,{primary:"Year-end sale"}))),Object(M.a)((function(e){return{toolbar:e.mixins.toolbar,h1:{padding:"0px 10px",lineHeight:"56px",textAlign:"center"},list:{width:200}}})));function ut(e){console.log("Render MyDrawer");var t=mt();return r.a.createElement(Ze.a,{open:e.open,onClose:e.toggleDrawer(!1),onOpen:e.toggleDrawer(!0)},r.a.createElement(j.a,{className:t.list,role:"presentation",onClick:e.toggleDrawer(!1),onKeyDown:e.toggleDrawer(!1)},r.a.createElement(j.a,{className:t.toolbar},r.a.createElement(N.a,{component:"h1",className:t.h1},"\u6253\u5f00\u94b1\u5305")),r.a.createElement(Re.a,null),r.a.createElement(Je.a,null,st)))}var dt=[{nameCN:"\u4ee5\u592a\u574a\u4e3b\u7f51\u7edc",nameEN:"mainnet",id:1},{nameCN:"Ropsten\u6d4b\u8bd5\u7f51\u7edc",nameEN:"ropsten",id:3},{nameCN:"Rinkeby\u6d4b\u8bd5\u7f51\u7edc",nameEN:"rinkeby",id:4},{nameCN:"Kovan\u6d4b\u8bd5\u7f51\u7edc",nameEN:"kovan",id:42}],pt=a(333),gt=a.n(pt),ht=a(1114),Et=a(334),ft=a.n(Et),vt=Object(M.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper,padding:0},inline:{display:"inline"},mainItem:{paddingTop:0},topItem:{paddingBottom:0},listItem:{"& span":{lineHeight:"24px",fontSize:"1rem"},"& div":{width:50,textAlign:"center",fontSize:10,height:20,lineHeight:"14px",marginTop:"8px"}},status:{background:e.palette.success.main,padding:"2px 4px",borderRadius:3},statusError:{background:e.palette.error.main,padding:"2px 4px",borderRadius:3},listItemRight:{lineHeight:"24px",textAlign:"right"},value:{fontSize:"1rem",fontWeight:400},gasFee:{lineHeight:"30px"}}}));function bt(e){console.log("Render TxList");var t=vt(),a=e.txlist;return r.a.createElement(Je.a,{className:t.root},a.map((function(e,a){return r.a.createElement(n.Fragment,{key:a},r.a.createElement(Ge.a,{alignItems:"flex-start",className:t.topItem},r.a.createElement(N.a,{variant:"caption",color:"textPrimary"},"#",e.nonce," - ",ft()(1e3*parseInt(e.timeStamp)).format("YYYY-MM-DD LT"))),r.a.createElement(Ge.a,{alignItems:"flex-start",className:t.mainItem},r.a.createElement(ht.a,null,""===e.to?r.a.createElement(lt.Eth,{size:36}):r.a.createElement(Fe.a,{diameter:36,seed:Object(He.jsNumberForAddress)(e.to)})),r.a.createElement(Qe.a,{primary:e.inputData,className:t.listItem,secondary:r.a.createElement(N.a,{component:"div",className:1===e.isError?t.statusError:t.status},1===e.isError?"\u9519\u8bef":"\u786e\u8ba4")}),r.a.createElement(Qe.a,{primary:r.a.createElement(N.a,{variant:"body2",className:t.value,color:"textPrimary"},e.value),className:t.listItemRight,component:"div",secondary:r.a.createElement(N.a,{variant:"body2",className:t.gasFee,color:"textPrimary"},"Gas\uff1a",e.gasFee)})),r.a.createElement(Re.a,{component:"li"}))})))}var xt=Object(M.a)((function(e){return{root:{background:function(e){return"red"===e.color?"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)":"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)"},border:0,borderRadius:5,boxShadow:function(e){return"red"===e.color?"0 3px 5px 2px rgba(255, 105, 135, .3)":"0 3px 5px 2px rgba(33, 203, 243, .3)"},color:"white",height:40,padding:"0 30px",margin:8},content:{flexGrow:1,height:"100vh",overflow:"auto",background:"linear-gradient(45deg, #ffe1e0 30%, #ace8f6  90%)"},appBarSpacer:e.mixins.toolbar,container:{paddingTop:e.spacing(2),paddingBottom:e.spacing(4)},avatarBg:{background:"linear-gradient(135deg, #21CBF3 30%, #FE6B8B 90%)",width:e.spacing(14),height:e.spacing(14),boxShadow:"2px 2px 10px #666"},avatar:{margin:e.spacing(1),background:"#fff",width:e.spacing(13),height:e.spacing(13),"& img":{width:e.spacing(10),height:e.spacing(10)}},main:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center","& h3":{marginBottom:e.spacing(1)}},sendBtn:{paddingLeft:e.spacing(4),paddingRight:e.spacing(4),"& div":{display:"flex",flexDirection:"column",alignItems:"center"}}}}));function wt(e){e.color;var t=Object(re.a)(e,["color"]),a=xt(e);return r.a.createElement(E.a,Object.assign({className:a.root},t))}function yt(e){console.log("Render AssetDetail");var t=xt(),a=e.accounts,n=e.currentAccount,o=Object(re.a)(e,["accounts","currentAccount"]),i=a[n].address;return r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(X.a,{maxWidth:"lg",className:t.container},r.a.createElement(C.a,{container:!0,spacing:2},r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(j.a,{className:t.main},r.a.createElement(h.a,{className:t.avatarBg},r.a.createElement(h.a,{className:t.avatar,src:gt.a}))),r.a.createElement(j.a,{className:t.main},r.a.createElement(N.a,{variant:"h3"},Math.round(1e4*a[n].balance)/1e4,"ETH"),r.a.createElement(N.a,{variant:"subtitle1"},i)),r.a.createElement(j.a,{className:t.main},r.a.createElement(C.a,{container:!0,className:t.sendBtn},r.a.createElement(C.a,{item:!0,xs:6},r.a.createElement(wt,{color:"red"},"\u63a5\u6536")),r.a.createElement(C.a,{item:!0,xs:6},r.a.createElement(wt,{color:"blue"},"\u53d1\u9001")))),r.a.createElement(j.a,{className:t.main},r.a.createElement(C.a,{container:!0},r.a.createElement(bt,Object.assign({},o,{accounts:a,currentAccount:n})))))),r.a.createElement(j.a,{mt:5},r.a.createElement(W,null))))}var kt=a(261),jt=a(268),Ct=new Ce.a,Ot=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).toggleDrawer=function(){return function(e){if(!e||"keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key){var t=n.state.open;n.setState({open:!t})}}},n.getBalance=function(e){var t=[],a=n.state.mnemonic,r=Object(ke.a)(n),o=n.state.networks[e].nameEN,i=kt({network:o}),c=new jt(i);n.setState({txlist:[]});for(var l=function(n){var o=Y(a,n);c.getBalance(o).then((function(a){var i=Ct.utils.fromWei(a,"ether").toString();t[n]={address:o,balance:i},10===t.length&&(r.setState({accounts:t,networkId:e}),r.getTxList(r.state.currentAccount))}))},s=0;s<10;s++)l(s)},n.getTxList=function(e){var t=n.state.networks[n.state.networkId].nameEN;if(void 0!==n.state.accounts[e].address){var r=n.state.accounts[e].address,o=Object(ke.a)(n);(function(e,t){var n,r,o,i;return P.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n=a(602).init("MIQDQDRUD5XENBPYQ8HAB3GJP2Z6T8ZZ1J",e),c.prev=1,c.next=4,P.a.awrap(n.account.txlist(t,5e6,"latest"));case 4:if(r=c.sent,!((o=r.result.reverse()).length>0)){c.next=11;break}for(i=0;i<o.length;i++)""===o[i].to?o[i].inputData="\u90e8\u7f72\u5408\u7ea6":o[i].to===t?o[i].inputData="\u5b58\u5165":"0x"===o[i].input?(o[i].inputData="\u53d1\u9001",o[i].value=-1*o[i].value):(o[i].inputData="\u5408\u7ea6\u8c03\u7528",o[i].value=o[i].value>0?-1*o[i].value:o[i].value),o[i].value=Math.round(o[i].value/1e14)/1e4+"ETH",o[i].gasFee=Math.round(o[i].gasUsed*o[i].gasPrice/1e18*1e5)/1e5;return c.abrupt("return",o);case 11:return c.abrupt("return",[]);case 12:c.next=18;break;case 14:return c.prev=14,c.t0=c.catch(1),console.log("TCL: getTxList -> e",c.t0),c.abrupt("return",[]);case 18:case"end":return c.stop()}}),null,null,[[1,14]])})(t,r).then((function(e){o.setState({txlist:e})}))}else window.location.reload()},n.choseAccount=function(e){var t=e.currentTarget.attributes.index.nodeValue;n.setState({currentAccount:t}),n.getTxList(t)};var r=function(e,t){if(e&&t){var a=H(t,e);return console.log("mnemonic:"+a),q(a)?a:(console.log("Mnemonic Error!"),!1)}return console.log("encrypt || password Error!"),!1}(B.a.load("password"),localStorage.getItem("encrypt"));return r||(window.location.href="./"),n.state={open:!1,password:"",accounts:G(r),networks:dt,avatarMenu:null,mnemonic:r,currentAccount:0,networkId:0,txlist:[]},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getBalance(this.state.networkId)}},{key:"shouldComponentUpdate",value:function(e,t){return t.currentAccount!==this.state.currentAccount||t.accounts!==this.state.accounts||t.txlist!==this.state.txlist||t.open!==this.state.open||t.networkId!==this.state.networkId}},{key:"render",value:function(){return console.log("Render Wallet"),console.log(this.state.txlist),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(f.a,null),r.a.createElement(qe,{toggleDrawer:this.toggleDrawer,getBalance:this.getBalance,networks:this.state.networks,accounts:this.state.accounts,mnemonic:this.state.mnemonic,currentAccount:this.state.currentAccount,choseAccount:this.choseAccount}),r.a.createElement(ut,{toggleDrawer:this.toggleDrawer,open:this.state.open}),r.a.createElement(yt,{txlist:this.state.txlist,accounts:this.state.accounts,currentAccount:this.state.currentAccount}))}}]),t}(n.Component),St=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){var e=window.location.pathname.split("/");return r.a.createElement(d.a,{basename:e[1]},r.a.createElement("div",null,r.a.createElement(p.a,{exact:!0,path:"/",component:$}),r.a.createElement(p.a,{path:"/Mnemonic",component:be}),r.a.createElement(p.a,{path:"/CreateWallet",component:ne}),r.a.createElement(p.a,{path:"/ImportWallet",component:ye}),r.a.createElement(p.a,{path:"/Wallet",component:Ot})))}},{key:"componentDidMount",value:function(){}},{key:"shouldComponentUpdate",value:function(e,t){return e.accounts!==this.state.accounts}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return null}},{key:"componentDidUpdate",value:function(e,t){}},{key:"componentWillUnmount",value:function(){}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!0}}]),t}(n.Component),Nt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Mt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Wt=a(1115),At=a(157),It=a(335),Dt=Object(It.a)({palette:{primary:{main:"#556cd6"},secondary:{light:"#ff4081",main:"#f50057",dark:"#c51162",contrastText:"#ffffff"},default:{light:"#ffd54f",main:"#ffc107",dark:"#ffa000",contrastText:"rgba(0, 0, 0, 0.87)"},success:{light:"#00FF48",main:"#7DF5A1",dark:"#15963A",contrastText:"#145C29"},error:{main:At.a.A400},background:{default:"#fff"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),fontSize:12}});i.a.render(r.a.createElement(Wt.a,{theme:Dt},r.a.createElement(f.a,null),r.a.createElement(St,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/bishen-wallet",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/bishen-wallet","/service-worker.js");Nt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Mt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Mt(t,e)}))}}()},322:function(e,t,a){e.exports=a.p+"static/media/bgImg.b6c409a6.jpg"},333:function(e,t,a){e.exports=a.p+"static/media/ethereum.1909e591.png"},350:function(e,t,a){e.exports=a(1054)},389:function(e,t){},391:function(e,t){},435:function(e,t){},436:function(e,t){}},[[350,1,2]]]);
//# sourceMappingURL=main.1fe77abe.chunk.js.map